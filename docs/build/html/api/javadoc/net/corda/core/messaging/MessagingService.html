<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu Mar 02 15:42:59 GMT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MessagingService</title>
<meta name="date" content="2017-03-02">
<meta name="keywords" content="net.corda.core.messaging.MessagingService interface">
<meta name="keywords" content="addMessageHandler()">
<meta name="keywords" content="removeMessageHandler()">
<meta name="keywords" content="send()">
<meta name="keywords" content="createMessage()">
<meta name="keywords" content="getAddressOfParty()">
<meta name="keywords" content="getMyAddress()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MessagingService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":18,"i2":18,"i3":18,"i4":18,"i5":18,"i6":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/messaging/MessagingKt.html" title="class in net.corda.core.messaging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/messaging/RPCOps.html" title="interface in net.corda.core.messaging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/messaging/MessagingService.html" target="_top">Frames</a></li>
<li><a href="MessagingService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.core.messaging</div>
<h2 title="Interface MessagingService" class="title">Interface MessagingService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../net/corda/node/services/api/MessagingServiceInternal.html" title="interface in net.corda.node.services.api">MessagingServiceInternal</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../net/corda/node/services/messaging/NodeMessagingClient.html" title="class in net.corda.node.services.messaging">NodeMessagingClient</a></dd>
</dl>
<hr>
<br>
<pre>public <span class="typeNameLabel">MessagingService</span></pre>
<div class="block"><p><p>A <a href="../../../../net/corda/core/messaging/MessagingService.html" title="interface in net.corda.core.messaging"><code>interface MessagingService</code></a> sits at the boundary between a message routing / networking layer and the core platform code.</p></p><p><p><p>A messaging system must provide the ability to send 1:many messages, potentially to an abstract "group", the
membership of which is defined elsewhere. Messages are atomic and the system guarantees that a sent message
<em>eventually</em> will arrive in the exact form it was sent, however, messages can be arbitrarily re-ordered or delayed.</p><p>Example implementations might be a custom P2P layer, Akka, Apache Kafka, etc. It is assumed that the message layer
is <em>reliable</em> and as such messages may be stored to disk once queued.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/messaging/MessagingService.html" title="interface in net.corda.core.messaging"><code>interface MessagingService</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#addMessageHandler-topic-sessionID-callback-">addMessageHandler</a></span>(java.lang.String&nbsp;topic,
                 long&nbsp;sessionID,
                 kotlin.jvm.functions.Function2&lt;? super net.corda.core.messaging.ReceivedMessage,? super net.corda.core.messaging.MessageHandlerRegistration,kotlin.Unit&gt;&nbsp;callback)</code>
<div class="block">The provided function will be invoked for each received message whose topic matches the given string.  The callback
will run on threads provided by the messaging service, and the callback is expected to be thread safe as a result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#addMessageHandler-topicSession-callback-">addMessageHandler</a></span>(<a href="../../../../net/corda/core/messaging/TopicSession.html" title="type parameter in TopicSession">TopicSession</a>&nbsp;topicSession,
                 kotlin.jvm.functions.Function2&lt;? super net.corda.core.messaging.ReceivedMessage,? super net.corda.core.messaging.MessageHandlerRegistration,kotlin.Unit&gt;&nbsp;callback)</code>
<div class="block">The provided function will be invoked for each received message whose topic and session matches.  The callback
will run on the main server thread provided when the messaging service is constructed, and a database
transaction is set up for you automatically.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/messaging/Message.html" title="type parameter in Message">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#createMessage-topicSession-data-uuid-">createMessage</a></span>(<a href="../../../../net/corda/core/messaging/TopicSession.html" title="type parameter in TopicSession">TopicSession</a>&nbsp;topicSession,
             byte[]&nbsp;data,
             java.util.UUID&nbsp;uuid)</code>
<div class="block">Returns an initialised <a href="../../../../net/corda/core/messaging/Message.html" title="interface in net.corda.core.messaging"><code>interface Message</code></a> with the current time, etc, already filled in.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/messaging/MessageRecipients.html" title="type parameter in MessageRecipients">MessageRecipients</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#getAddressOfParty-partyInfo-">getAddressOfParty</a></span>(<a href="../../../../net/corda/core/node/services/PartyInfo.html" title="type parameter in PartyInfo">PartyInfo</a>&nbsp;partyInfo)</code>
<div class="block">Given information about either a specific node or a service returns its corresponding address</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/messaging/SingleMessageRecipient.html" title="type parameter in SingleMessageRecipient">SingleMessageRecipient</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#getMyAddress--">getMyAddress</a></span>()</code>
<div class="block">Returns an address that refers to this node.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#removeMessageHandler-registration-">removeMessageHandler</a></span>(<a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a>&nbsp;registration)</code>
<div class="block">Removes a handler given the object returned from addMessageHandler. The callback will no longer be invoked once
this method has returned, although executions that are currently in flight will not be interrupted.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/messaging/MessagingService.html#send-message-target-">send</a></span>(<a href="../../../../net/corda/core/messaging/Message.html" title="type parameter in Message">Message</a>&nbsp;message,
    <a href="../../../../net/corda/core/messaging/MessageRecipients.html" title="type parameter in MessageRecipients">MessageRecipients</a>&nbsp;target)</code>
<div class="block">Sends a message to the given receiver. The details of how receivers are identified is up to the messaging
implementation: the type system provides an opaque high level view, with more fine grained control being
available via type casting. Once this function returns the message is queued for delivery but not necessarily
delivered: if the recipients are offline then the message could be queued hours or days later.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addMessageHandler-topic-sessionID-callback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessageHandler</h4>
<pre><a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a>&nbsp;addMessageHandler(java.lang.String&nbsp;topic,
                                             long&nbsp;sessionID,
                                             kotlin.jvm.functions.Function2&lt;? super net.corda.core.messaging.ReceivedMessage,? super net.corda.core.messaging.MessageHandlerRegistration,kotlin.Unit&gt;&nbsp;callback)</pre>
<div class="block"><p><p>The provided function will be invoked for each received message whose topic matches the given string.  The callback
will run on threads provided by the messaging service, and the callback is expected to be thread safe as a result.</p></p><p><p><p>The returned object is an opaque handle that may be used to un-register handlers later with <a href="../../../../net/corda/core/messaging/MessagingService.html#removeMessageHandler-registration-"><code>MessagingService.removeMessageHandler</code></a>.
The handle is passed to the callback as well, to avoid race conditions whereby the callback wants to unregister
itself and yet addMessageHandler hasn't returned the handle yet.</p></p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - identifier for the general subject of the message, for example "platform.network_map.fetch".
The topic can be the empty string to match all messages (session ID must be DEFAULT_SESSION_ID).</dd>
<dd><code>sessionID</code> - identifier for the session the message is part of. For services listening before
a session is established, use DEFAULT_SESSION_ID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/messaging/MessagingService.html#removeMessageHandler-registration-"><code>MessagingService.removeMessageHandler</code></a></dd>
</dl>
</li>
</ul>
<a name="addMessageHandler-topicSession-callback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMessageHandler</h4>
<pre><a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a>&nbsp;addMessageHandler(<a href="../../../../net/corda/core/messaging/TopicSession.html" title="type parameter in TopicSession">TopicSession</a>&nbsp;topicSession,
                                             kotlin.jvm.functions.Function2&lt;? super net.corda.core.messaging.ReceivedMessage,? super net.corda.core.messaging.MessageHandlerRegistration,kotlin.Unit&gt;&nbsp;callback)</pre>
<div class="block"><p><p>The provided function will be invoked for each received message whose topic and session matches.  The callback
will run on the main server thread provided when the messaging service is constructed, and a database
transaction is set up for you automatically.</p></p><p><p><p>The returned object is an opaque handle that may be used to un-register handlers later with <a href="../../../../net/corda/core/messaging/MessagingService.html#removeMessageHandler-registration-"><code>MessagingService.removeMessageHandler</code></a>.
The handle is passed to the callback as well, to avoid race conditions whereby the callback wants to unregister
itself and yet addMessageHandler hasn't returned the handle yet.</p></p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topicSession</code> - identifier for the topic and session to listen for messages arriving on.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/messaging/MessagingService.html#removeMessageHandler-registration-"><code>MessagingService.removeMessageHandler</code></a></dd>
</dl>
</li>
</ul>
<a name="removeMessageHandler-registration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeMessageHandler</h4>
<pre>void&nbsp;removeMessageHandler(<a href="../../../../net/corda/core/messaging/MessageHandlerRegistration.html" title="type parameter in MessageHandlerRegistration">MessageHandlerRegistration</a>&nbsp;registration)</pre>
<div class="block"><p><p>Removes a handler given the object returned from addMessageHandler. The callback will no longer be invoked once
this method has returned, although executions that are currently in flight will not be interrupted.</p></p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - if the given registration isn't valid for this messaging service.</dd>
<dd> - if the given registration was already de-registered.</dd>
</dl>
</li>
</ul>
<a name="send-message-target-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>void&nbsp;send(<a href="../../../../net/corda/core/messaging/Message.html" title="type parameter in Message">Message</a>&nbsp;message,
          <a href="../../../../net/corda/core/messaging/MessageRecipients.html" title="type parameter in MessageRecipients">MessageRecipients</a>&nbsp;target)</pre>
<div class="block"><p><p>Sends a message to the given receiver. The details of how receivers are identified is up to the messaging
implementation: the type system provides an opaque high level view, with more fine grained control being
available via type casting. Once this function returns the message is queued for delivery but not necessarily
delivered: if the recipients are offline then the message could be queued hours or days later.</p></p><p><p><p>There is no way to know if a message has been received. If your flow requires this, you need the recipient
to send an ACK message back.</p></p></p></div>
</li>
</ul>
<a name="createMessage-topicSession-data-uuid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMessage</h4>
<pre><a href="../../../../net/corda/core/messaging/Message.html" title="type parameter in Message">Message</a>&nbsp;createMessage(<a href="../../../../net/corda/core/messaging/TopicSession.html" title="type parameter in TopicSession">TopicSession</a>&nbsp;topicSession,
                      byte[]&nbsp;data,
                      java.util.UUID&nbsp;uuid)</pre>
<div class="block"><p><p>Returns an initialised <a href="../../../../net/corda/core/messaging/Message.html" title="interface in net.corda.core.messaging"><code>interface Message</code></a> with the current time, etc, already filled in.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topicSession</code> - identifier for the topic and session the message is sent to.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/messaging/Message.html" title="interface in net.corda.core.messaging"><code>interface Message</code></a></dd>
</dl>
</li>
</ul>
<a name="getAddressOfParty-partyInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddressOfParty</h4>
<pre><a href="../../../../net/corda/core/messaging/MessageRecipients.html" title="type parameter in MessageRecipients">MessageRecipients</a>&nbsp;getAddressOfParty(<a href="../../../../net/corda/core/node/services/PartyInfo.html" title="type parameter in PartyInfo">PartyInfo</a>&nbsp;partyInfo)</pre>
<div class="block"><p><p>Given information about either a specific node or a service returns its corresponding address</p></p></div>
</li>
</ul>
<a name="getMyAddress--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMyAddress</h4>
<pre><a href="../../../../net/corda/core/messaging/SingleMessageRecipient.html" title="type parameter in SingleMessageRecipient">SingleMessageRecipient</a>&nbsp;getMyAddress()</pre>
<div class="block"><p><p>Returns an address that refers to this node.</p></p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/messaging/MessagingKt.html" title="class in net.corda.core.messaging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/messaging/RPCOps.html" title="interface in net.corda.core.messaging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/messaging/MessagingService.html" target="_top">Frames</a></li>
<li><a href="MessagingService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
