<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu Mar 02 15:43:00 GMT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>VaultService</title>
<meta name="date" content="2017-03-02">
<meta name="keywords" content="net.corda.core.node.services.VaultService interface">
<meta name="keywords" content="getRawUpdates()">
<meta name="keywords" content="getUpdates()">
<meta name="keywords" content="getCashBalances()">
<meta name="keywords" content="track()">
<meta name="keywords" content="statesForRefs()">
<meta name="keywords" content="notifyAll()">
<meta name="keywords" content="notify()">
<meta name="keywords" content="whenConsumed()">
<meta name="keywords" content="getAuthorisedContractUpgrade()">
<meta name="keywords" content="authoriseContractUpgrade()">
<meta name="keywords" content="deauthoriseContractUpgrade()">
<meta name="keywords" content="addNoteToTransaction()">
<meta name="keywords" content="getTransactionNotes()">
<meta name="keywords" content="generateSpend()">
<meta name="keywords" content="states()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VaultService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":18,"i2":18,"i3":18,"i4":18,"i5":18,"i6":18,"i7":18,"i8":18,"i9":18,"i10":18,"i11":18,"i12":18,"i13":18,"i14":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/core/node/services/Vault.html" title="class in net.corda.core.node.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/core/node/services/VaultService.html" target="_top">Frames</a></li>
<li><a href="VaultService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.core.node.services</div>
<h2 title="Interface VaultService" class="title">Interface VaultService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../net/corda/node/services/vault/NodeVaultService.html" title="class in net.corda.node.services.vault">NodeVaultService</a></dd>
</dl>
<hr>
<br>
<pre>public <span class="typeNameLabel">VaultService</span></pre>
<div class="block"><p><p>A <a href="../../../../../net/corda/core/node/services/VaultService.html" title="interface in net.corda.core.node.services"><code>interface VaultService</code></a> is responsible for securely and safely persisting the current state of a vault to storage. The
vault service vends immutable snapshots of the current vault for working with: if you build a transaction based
on a vault that isn't current, be aware that it may end up being invalid if the states that were used have been
consumed by someone else first!</p></p><p><p><p>Note that transactions we've seen are held by the storage service, not the vault.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/node/services/VaultService.html" title="interface in net.corda.core.node.services"><code>interface VaultService</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.DefaultImpls.html" title="class in net.corda.core.node.services">VaultService.DefaultImpls</a></span></code>
<div class="block">A <a href="../../../../../net/corda/core/node/services/VaultService.html" title="interface in net.corda.core.node.services"><code>interface VaultService</code></a> is responsible for securely and safely persisting the current state of a vault to storage. The
vault service vends immutable snapshots of the current vault for working with: if you build a transaction based
on a vault that isn't current, be aware that it may end up being invalid if the states that were used have been
consumed by someone else first!</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#addNoteToTransaction-txnId-noteText-">addNoteToTransaction</a></span>(<a href="../../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;txnId,
                    java.lang.String&nbsp;noteText)</code>
<div class="block">Add a note to an existing <a href="#">LedgerTransaction</a> given by its unique <a href="../../../../../net/corda/core/crypto/SecureHash.html" title="class in net.corda.core.crypto"><code>class SecureHash</code></a> id
Multiple notes may be attached to the same <a href="#">LedgerTransaction</a>.
These are additively and immutably persisted within the node local vault database in a single textual field
using a semi-colon separator</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#authoriseContractUpgrade-stateAndRef-upgradedContractClass-">authoriseContractUpgrade</a></span>(<a href="../../../../../net/corda/core/contracts/StateAndRef.html" title="type parameter in StateAndRef">StateAndRef</a>&lt;?&gt;&nbsp;stateAndRef,
                        java.lang.Class&lt;? extends net.corda.core.contracts.UpgradedContract&lt;?,?&gt;&gt;&nbsp;upgradedContractClass)</code>
<div class="block">Authorise a contract state upgrade.
This will store the upgrade authorisation in the vault, and will be queried by <a href="#">ContractUpgradeFlow.Acceptor</a> during contract upgrade process.
Invoking this method indicate the node is willing to upgrade the <a href="#">state</a> using the upgradedContractClass.
This method will NOT initiate the upgrade process. To start the upgrade process, see <a href="#">ContractUpgradeFlow.Instigator</a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#deauthoriseContractUpgrade-stateAndRef-">deauthoriseContractUpgrade</a></span>(<a href="../../../../../net/corda/core/contracts/StateAndRef.html" title="type parameter in StateAndRef">StateAndRef</a>&lt;?&gt;&nbsp;stateAndRef)</code>
<div class="block">Authorise a contract state upgrade.
This will remove the upgrade authorisation from the vault.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>kotlin.Pair&lt;net.corda.core.transactions.TransactionBuilder,java.util.List&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#generateSpend-tx-amount-to-onlyFromParties-">generateSpend</a></span>(<a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
             <a href="../../../../../net/corda/core/contracts/Amount.html" title="type parameter in Amount">Amount</a>&lt;java.util.Currency&gt;&nbsp;amount,
             <a href="../../../../../net/corda/core/crypto/CompositeKey.html" title="type parameter in CompositeKey">CompositeKey</a>&nbsp;to,
             java.util.Set&lt;? extends net.corda.core.crypto.AbstractParty&gt;&nbsp;onlyFromParties)</code>
<div class="block">Generate a transaction that moves an amount of currency to the given pubkey.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.Class&lt;? extends net.corda.core.contracts.UpgradedContract&lt;?,?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#getAuthorisedContractUpgrade-ref-">getAuthorisedContractUpgrade</a></span>(<a href="../../../../../net/corda/core/contracts/StateRef.html" title="type parameter in StateRef">StateRef</a>&nbsp;ref)</code>
<div class="block">Get contracts we would be willing to upgrade the suggested contract to.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.util.Currency,net.corda.core.contracts.Amount&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#getCashBalances--">getCashBalances</a></span>()</code>
<div class="block">Returns a map of how much cash we have in each currency, ignoring details like issuer. Note: currencies for
which we have no cash evaluate to null (not present in map), not 0.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>rx.Observable&lt;net.corda.core.node.services.Vault.Update&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#getRawUpdates--">getRawUpdates</a></span>()</code>
<div class="block">Prefer the use of updates unless you know why you want to use this instead.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#getTransactionNotes-txnId-">getTransactionNotes</a></span>(<a href="../../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;txnId)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>rx.Observable&lt;net.corda.core.node.services.Vault.Update&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#getUpdates--">getUpdates</a></span>()</code>
<div class="block">Get a synchronous Observable of updates.  When observations are pushed to the Observer, the Vault will already incorporate
the update, and the database transaction associated with the update will have been committed and closed.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#notify-tx-">notify</a></span>(<a href="../../../../../net/corda/core/transactions/WireTransaction.html" title="type parameter in WireTransaction">WireTransaction</a>&nbsp;tx)</code>
<div class="block">Same as notifyAll but with a single transaction.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#notifyAll-txns-">notifyAll</a></span>(java.lang.Iterable&lt;net.corda.core.transactions.WireTransaction&gt;&nbsp;txns)</code>
<div class="block">Possibly update the vault by marking as spent states that these transactions consume, and adding any relevant
new states that they create. You should only insert transactions that have been successfully verified here!</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../net/corda/core/contracts/ContractState.html" title="type parameter in ContractState">ContractState</a>&gt;<br>java.util.List&lt;net.corda.core.contracts.StateAndRef&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#states-clazzes-statuses-">states</a></span>(java.util.Set&lt;java.lang.Class&gt;&nbsp;clazzes,
      java.util.EnumSet&lt;net.corda.core.node.services.Vault.StateStatus&gt;&nbsp;statuses)</code>
<div class="block">Return <a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>s of a given <a href="../../../../../net/corda/core/contracts/Contract.html" title="interface in net.corda.core.contracts"><code>interface Contract</code></a> type and list of <a href="../../../../../net/corda/core/node/services/Vault.StateStatus.html" title="enum in net.corda.core.node.services"><code>enum Vault.StateStatus</code></a></div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;net.corda.core.contracts.StateRef,net.corda.core.contracts.TransactionState&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#statesForRefs-refs-">statesForRefs</a></span>(java.util.List&lt;net.corda.core.contracts.StateRef&gt;&nbsp;refs)</code>
<div class="block">Return unconsumed <a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>s for a given set of <a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a>s
TODO: revisit and generalize this exposed API function.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>kotlin.Pair&lt;net.corda.core.node.services.Vault,rx.Observable&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#track--">track</a></span>()</code>
<div class="block">Atomically get the current vault and a stream of updates. Note that the Observable buffers updates until the
first subscriber is registered so as to avoid racing with early updates.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;net.corda.core.node.services.Vault.Update&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/corda/core/node/services/VaultService.html#whenConsumed-ref-">whenConsumed</a></span>(<a href="../../../../../net/corda/core/contracts/StateRef.html" title="type parameter in StateRef">StateRef</a>&nbsp;ref)</code>
<div class="block">Provide a <a href="#">Future</a> for when a <a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a> is consumed, which can be very useful in building tests.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRawUpdates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawUpdates</h4>
<pre>rx.Observable&lt;net.corda.core.node.services.Vault.Update&gt;&nbsp;getRawUpdates()</pre>
<div class="block"><p><p>Prefer the use of updates unless you know why you want to use this instead.</p></p><p><p><p>Get a synchronous Observable of updates.  When observations are pushed to the Observer, the Vault will already incorporate
the update, and the database transaction associated with the update will still be open and current.  If for some
reason the processing crosses outside of the database transaction (for example, the update is pushed outside the current
JVM or across to another <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html">Thread</a> which is executing in a different database transaction) then the Vault may
not incorporate the update due to racing with committing the current database transaction.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html">Thread</a></dd>
</dl>
</li>
</ul>
<a name="getUpdates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdates</h4>
<pre>rx.Observable&lt;net.corda.core.node.services.Vault.Update&gt;&nbsp;getUpdates()</pre>
<div class="block"><p><p>Get a synchronous Observable of updates.  When observations are pushed to the Observer, the Vault will already incorporate
the update, and the database transaction associated with the update will have been committed and closed.</p></p></div>
</li>
</ul>
<a name="getCashBalances--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCashBalances</h4>
<pre>java.util.Map&lt;java.util.Currency,net.corda.core.contracts.Amount&gt;&nbsp;getCashBalances()</pre>
<div class="block"><p><p>Returns a map of how much cash we have in each currency, ignoring details like issuer. Note: currencies for
which we have no cash evaluate to null (not present in map), not 0.</p></p></div>
</li>
</ul>
<a name="track--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>track</h4>
<pre>kotlin.Pair&lt;net.corda.core.node.services.Vault,rx.Observable&gt;&nbsp;track()</pre>
<div class="block"><p><p>Atomically get the current vault and a stream of updates. Note that the Observable buffers updates until the
first subscriber is registered so as to avoid racing with early updates.</p></p></div>
</li>
</ul>
<a name="statesForRefs-refs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statesForRefs</h4>
<pre>java.util.Map&lt;net.corda.core.contracts.StateRef,net.corda.core.contracts.TransactionState&gt;&nbsp;statesForRefs(java.util.List&lt;net.corda.core.contracts.StateRef&gt;&nbsp;refs)</pre>
<div class="block"><p><p>Return unconsumed <a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>s for a given set of <a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a>s
TODO: revisit and generalize this exposed API function.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>, 
<a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a></dd>
</dl>
</li>
</ul>
<a name="notifyAll-txns-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyAll</h4>
<pre>void&nbsp;notifyAll(java.lang.Iterable&lt;net.corda.core.transactions.WireTransaction&gt;&nbsp;txns)</pre>
<div class="block"><p><p>Possibly update the vault by marking as spent states that these transactions consume, and adding any relevant
new states that they create. You should only insert transactions that have been successfully verified here!</p></p><p><p><p>TODO: Consider if there's a good way to enforce the must-be-verified requirement in the type system.</p></p></p></div>
</li>
</ul>
<a name="notify-tx-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notify</h4>
<pre>void&nbsp;notify(<a href="../../../../../net/corda/core/transactions/WireTransaction.html" title="type parameter in WireTransaction">WireTransaction</a>&nbsp;tx)</pre>
<div class="block"><p><p>Same as notifyAll but with a single transaction.</p></p></div>
</li>
</ul>
<a name="whenConsumed-ref-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>whenConsumed</h4>
<pre>com.google.common.util.concurrent.ListenableFuture&lt;net.corda.core.node.services.Vault.Update&gt;&nbsp;whenConsumed(<a href="../../../../../net/corda/core/contracts/StateRef.html" title="type parameter in StateRef">StateRef</a>&nbsp;ref)</pre>
<div class="block"><p><p>Provide a <a href="#">Future</a> for when a <a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a> is consumed, which can be very useful in building tests.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">Future</a>, 
<a href="../../../../../net/corda/core/contracts/StateRef.html" title="class in net.corda.core.contracts"><code>class StateRef</code></a></dd>
</dl>
</li>
</ul>
<a name="getAuthorisedContractUpgrade-ref-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthorisedContractUpgrade</h4>
<pre>java.lang.Class&lt;? extends net.corda.core.contracts.UpgradedContract&lt;?,?&gt;&gt;&nbsp;getAuthorisedContractUpgrade(<a href="../../../../../net/corda/core/contracts/StateRef.html" title="type parameter in StateRef">StateRef</a>&nbsp;ref)</pre>
<div class="block"><p><p>Get contracts we would be willing to upgrade the suggested contract to.</p></p></div>
</li>
</ul>
<a name="authoriseContractUpgrade-stateAndRef-upgradedContractClass-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authoriseContractUpgrade</h4>
<pre>void&nbsp;authoriseContractUpgrade(<a href="../../../../../net/corda/core/contracts/StateAndRef.html" title="type parameter in StateAndRef">StateAndRef</a>&lt;?&gt;&nbsp;stateAndRef,
                              java.lang.Class&lt;? extends net.corda.core.contracts.UpgradedContract&lt;?,?&gt;&gt;&nbsp;upgradedContractClass)</pre>
<div class="block"><p><p>Authorise a contract state upgrade.
This will store the upgrade authorisation in the vault, and will be queried by <a href="#">ContractUpgradeFlow.Acceptor</a> during contract upgrade process.
Invoking this method indicate the node is willing to upgrade the <a href="#">state</a> using the upgradedContractClass.
This method will NOT initiate the upgrade process. To start the upgrade process, see <a href="#">ContractUpgradeFlow.Instigator</a>.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">ContractUpgradeFlow.Acceptor</a>, 
<a href="#">state</a>, 
<a href="#">ContractUpgradeFlow.Instigator</a></dd>
</dl>
</li>
</ul>
<a name="deauthoriseContractUpgrade-stateAndRef-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deauthoriseContractUpgrade</h4>
<pre>void&nbsp;deauthoriseContractUpgrade(<a href="../../../../../net/corda/core/contracts/StateAndRef.html" title="type parameter in StateAndRef">StateAndRef</a>&lt;?&gt;&nbsp;stateAndRef)</pre>
<div class="block"><p><p>Authorise a contract state upgrade.
This will remove the upgrade authorisation from the vault.</p></p></div>
</li>
</ul>
<a name="addNoteToTransaction-txnId-noteText-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNoteToTransaction</h4>
<pre>void&nbsp;addNoteToTransaction(<a href="../../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;txnId,
                          java.lang.String&nbsp;noteText)</pre>
<div class="block"><p><p>Add a note to an existing <a href="#">LedgerTransaction</a> given by its unique <a href="../../../../../net/corda/core/crypto/SecureHash.html" title="class in net.corda.core.crypto"><code>class SecureHash</code></a> id
Multiple notes may be attached to the same <a href="#">LedgerTransaction</a>.
These are additively and immutably persisted within the node local vault database in a single textual field
using a semi-colon separator</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">LedgerTransaction</a>, 
<a href="../../../../../net/corda/core/crypto/SecureHash.html" title="class in net.corda.core.crypto"><code>class SecureHash</code></a>, 
<a href="#">LedgerTransaction</a></dd>
</dl>
</li>
</ul>
<a name="getTransactionNotes-txnId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionNotes</h4>
<pre>java.lang.Iterable&lt;java.lang.String&gt;&nbsp;getTransactionNotes(<a href="../../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;txnId)</pre>
</li>
</ul>
<a name="generateSpend-tx-amount-to-onlyFromParties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateSpend</h4>
<pre>kotlin.Pair&lt;net.corda.core.transactions.TransactionBuilder,java.util.List&gt;&nbsp;generateSpend(<a href="../../../../../net/corda/core/transactions/TransactionBuilder.html" title="type parameter in TransactionBuilder">TransactionBuilder</a>&nbsp;tx,
                                                                                         <a href="../../../../../net/corda/core/contracts/Amount.html" title="type parameter in Amount">Amount</a>&lt;java.util.Currency&gt;&nbsp;amount,
                                                                                         <a href="../../../../../net/corda/core/crypto/CompositeKey.html" title="type parameter in CompositeKey">CompositeKey</a>&nbsp;to,
                                                                                         java.util.Set&lt;? extends net.corda.core.crypto.AbstractParty&gt;&nbsp;onlyFromParties)</pre>
<div class="block"><p><p>Generate a transaction that moves an amount of currency to the given pubkey.</p></p><p><p><p>Note: an <a href="../../../../../net/corda/core/contracts/Amount.html" title="class in net.corda.core.contracts"><code>class Amount</code></a> of <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Currency.html">Currency</a> is only fungible for a given Issuer Party within a <a href="../../../../../net/corda/core/contracts/FungibleAsset.html" title="interface in net.corda.core.contracts"><code>interface FungibleAsset</code></a></p></p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - A builder, which may contain inputs, outputs and commands already. The relevant components needed
    to move the cash will be added on top.</dd>
<dd><code>amount</code> - How much currency to send.</dd>
<dd><code>to</code> - a key of the recipient.</dd>
<dd><code>onlyFromParties</code> - if non-null, the asset states will be filtered to only include those issued by the set
    of given parties. This can be useful if the party you're trying to pay has expectations
    about which type of asset claims they are willing to accept.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Pair of the same transaction builder passed in as tx, and the list of keys that need to sign
    the resulting transaction for it to be valid.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - when a cash spending transaction fails because
    there is insufficient quantity for a given currency (and optionally set of Issuer Parties).</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/contracts/Amount.html" title="class in net.corda.core.contracts"><code>class Amount</code></a>, 
<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Currency.html">Currency</a>, 
<a href="../../../../../net/corda/core/contracts/FungibleAsset.html" title="interface in net.corda.core.contracts"><code>interface FungibleAsset</code></a></dd>
</dl>
</li>
</ul>
<a name="states-clazzes-statuses-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>states</h4>
<pre>&lt;T extends <a href="../../../../../net/corda/core/contracts/ContractState.html" title="type parameter in ContractState">ContractState</a>&gt;&nbsp;java.util.List&lt;net.corda.core.contracts.StateAndRef&gt;&nbsp;states(java.util.Set&lt;java.lang.Class&gt;&nbsp;clazzes,
                                                                                      java.util.EnumSet&lt;net.corda.core.node.services.Vault.StateStatus&gt;&nbsp;statuses)</pre>
<div class="block"><p><p>Return <a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>s of a given <a href="../../../../../net/corda/core/contracts/Contract.html" title="interface in net.corda.core.contracts"><code>interface Contract</code></a> type and list of <a href="../../../../../net/corda/core/node/services/Vault.StateStatus.html" title="enum in net.corda.core.node.services"><code>enum Vault.StateStatus</code></a></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../net/corda/core/contracts/ContractState.html" title="interface in net.corda.core.contracts"><code>interface ContractState</code></a>, 
<a href="../../../../../net/corda/core/contracts/Contract.html" title="interface in net.corda.core.contracts"><code>interface Contract</code></a>, 
<a href="../../../../../net/corda/core/node/services/Vault.StateStatus.html" title="enum in net.corda.core.node.services"><code>enum Vault.StateStatus</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/corda/core/node/services/Vault.html" title="class in net.corda.core.node.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/corda/core/node/services/VaultService.html" target="_top">Frames</a></li>
<li><a href="VaultService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
