<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu Mar 02 15:42:59 GMT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FlowLogic</title>
<meta name="date" content="2017-03-02">
<meta name="keywords" content="net.corda.core.flows.FlowLogic class">
<meta name="keywords" content="getLogger()">
<meta name="keywords" content="getRunId()">
<meta name="keywords" content="getServiceHub()">
<meta name="keywords" content="getCounterpartyMarker()">
<meta name="keywords" content="sendAndReceive()">
<meta name="keywords" content="receive()">
<meta name="keywords" content="send()">
<meta name="keywords" content="subFlow()">
<meta name="keywords" content="getProgressTracker()">
<meta name="keywords" content="call()">
<meta name="keywords" content="track()">
<meta name="keywords" content="waitForLedgerCommit()">
<meta name="keywords" content="getStateMachine()">
<meta name="keywords" content="setStateMachine()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FlowLogic";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/flows/FlowException.html" title="class in net.corda.core.flows"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/flows/FlowLogicRef.html" title="class in net.corda.core.flows"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/flows/FlowLogic.html" target="_top">Frames</a></li>
<li><a href="FlowLogic.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.corda.core.flows</div>
<h2 title="Class FlowLogic" class="title">Class FlowLogic&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>net.corda.core.flows.FlowLogic&lt;T&gt;</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../net/corda/flows/AbstractCashFlow.html" title="class in net.corda.flows">AbstractCashFlow</a>, <a href="../../../../net/corda/flows/AbstractStateReplacementFlow.Acceptor.html" title="class in net.corda.flows">AbstractStateReplacementFlow.Acceptor</a>, <a href="../../../../net/corda/flows/BroadcastTransactionFlow.html" title="class in net.corda.flows">BroadcastTransactionFlow</a>, <a href="../../../../net/corda/flows/TwoPartyTradeFlow.Buyer.html" title="class in net.corda.flows">TwoPartyTradeFlow.Buyer</a>, <a href="../../../../net/corda/flows/NotaryFlow.Client.html" title="class in net.corda.flows">NotaryFlow.Client</a>, <a href="../../../../net/corda/flows/FetchDataFlow.html" title="class in net.corda.flows">FetchDataFlow</a>, <a href="../../../../net/corda/flows/FinalityFlow.html" title="class in net.corda.flows">FinalityFlow</a>, <a href="../../../../net/corda/flows/AbstractStateReplacementFlow.Instigator.html" title="class in net.corda.flows">AbstractStateReplacementFlow.Instigator</a>, <a href="../../../../net/corda/flows/IssuerFlow.IssuanceRequester.html" title="class in net.corda.flows">IssuerFlow.IssuanceRequester</a>, <a href="../../../../net/corda/flows/IssuerFlow.Issuer.html" title="class in net.corda.flows">IssuerFlow.Issuer</a>, <a href="../../../../net/corda/node/services/persistence/Service.NotifyTransactionHandler.html" title="class in net.corda.node.services.persistence">Service.NotifyTransactionHandler</a>, <a href="../../../../net/corda/flows/TwoPartyDealFlow.Primary.html" title="class in net.corda.flows">TwoPartyDealFlow.Primary</a>, <a href="../../../../net/corda/flows/ResolveTransactionsFlow.html" title="class in net.corda.flows">ResolveTransactionsFlow</a>, <a href="../../../../net/corda/node/services/events/NodeSchedulerService.RunScheduled.html" title="class in net.corda.node.services.events">NodeSchedulerService.RunScheduled</a>, <a href="../../../../net/corda/flows/TwoPartyDealFlow.Secondary.html" title="class in net.corda.flows">TwoPartyDealFlow.Secondary</a>, <a href="../../../../net/corda/flows/TwoPartyTradeFlow.Seller.html" title="class in net.corda.flows">TwoPartyTradeFlow.Seller</a>, <a href="../../../../net/corda/flows/NotaryFlow.Service.html" title="class in net.corda.flows">NotaryFlow.Service</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FlowLogic&lt;T&gt;</span></pre>
<div class="block"><p><p>A sub-class of <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implements a flow using direct, straight line blocking code. Thus you
can write complex flow logic in an ordinary fashion, without having to think about callbacks, restarting after
a node crash, how many instances of your flow there are running and so on.</p></p><p><p><p>Invoking the network will cause the call stack to be suspended onto the heap and then serialized to a database using
the Quasar fibers framework. Because of this, if you need access to data that might change over time, you should
request it just-in-time via the serviceHub property which is provided. Don't try and keep data you got from a
service across calls to send/receive/sendAndReceive because the world might change in arbitrary ways out from
underneath you, for instance, if the node is restarted or reconfigured!</p><p>Additionally, be aware of what data you pin either via the stack or in your <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implementation. Very large
objects or datasets will hurt performance by increasing the amount of data stored in each checkpoint.</p><p>If you'd like to use another FlowLogic class as a component of your own, construct it on the fly and then pass
it to the subFlow method. It will return the result of that flow when it completes.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, 
<a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#FlowLogic--">FlowLogic</a></span>()</code>
<div class="block">A sub-class of <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implements a flow using direct, straight line blocking code. Thus you
can write complex flow logic in an ordinary fashion, without having to think about callbacks, restarting after
a node crash, how many instances of your flow there are running and so on.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#call--">call</a></span>()</code>
<div class="block">This is where you fill out your business logic. The returned object will usually be ignored, but can be
helpful if this flow is meant to be used as a subflow.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getCounterpartyMarker-party-">getCounterpartyMarker</a></span>(<a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;party)</code>
<div class="block">Return the marker <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a> which party has used to register the counterparty flow that is to execute on the
other side. The default implementation returns the class object of this FlowLogic, but any <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a> instance
will do as long as the other side registers with it.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getLogger--">getLogger</a></span>()</code>
<div class="block">This is where you should log things to.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/utilities/ProgressTracker.html" title="type parameter in ProgressTracker">ProgressTracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getProgressTracker--">getProgressTracker</a></span>()</code>
<div class="block">Override this to provide a <a href="../../../../net/corda/core/utilities/ProgressTracker.html" title="class in net.corda.core.utilities"><code>class ProgressTracker</code></a>. If one is provided and stepped, the framework will do something
helpful with the progress reports. If this flow is invoked as a subflow of another, then the
tracker will be made a child of the current step in the parent. If it's null, this flow doesn't track
progress.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/flows/StateMachineRunId.html" title="type parameter in StateMachineRunId">StateMachineRunId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getRunId--">getRunId</a></span>()</code>
<div class="block">Returns a wrapped <a href="#">UUID</a> object that identifies this state machine run (i.e. subflows have the same identifier as their parents).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/node/ServiceHub.html" title="type parameter in ServiceHub">ServiceHub</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getServiceHub--">getServiceHub</a></span>()</code>
<div class="block">Provides access to big, heavy classes that may be reconstructed from time to time, e.g. across restarts. It is
only available once the flow has started, which means it cannnot be accessed in the constructor. Either
access this lazily or from inside <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/flows/FlowStateMachine.html" title="type parameter in FlowStateMachine">FlowStateMachine</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#getStateMachine--">getStateMachine</a></span>()</code>
<div class="block">Internal only. Reference to the <a href="#">Fiber</a> instance that is the top level controller for the entire flow. When
inside a flow this is equivalent to <a href="#">Strand.currentStrand</a>. This is public only because it must be accessed
across module boundaries.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../net/corda/core/utilities/UntrustworthyData.html" title="type parameter in UntrustworthyData">UntrustworthyData</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#receive-receiveType-otherParty-">receive</a></span>(java.lang.Class&lt;R&gt;&nbsp;receiveType,
       <a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty)</code>
<div class="block">Suspends until the specified otherParty sends us a message of type receiveType.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#send-otherParty-payload-">send</a></span>(<a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty,
    java.lang.Object&nbsp;payload)</code>
<div class="block">Queues the given payload for sending to the otherParty and continues without suspending.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../net/corda/core/utilities/UntrustworthyData.html" title="type parameter in UntrustworthyData">UntrustworthyData</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#sendAndReceive-receiveType-otherParty-payload-">sendAndReceive</a></span>(java.lang.Class&lt;R&gt;&nbsp;receiveType,
              <a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty,
              java.lang.Object&nbsp;payload)</code>
<div class="block">Serializes and queues the given payload object for sending to the otherParty. Suspends until a response
is received, which must be of the given receiveType. Remember that when receiving data from other parties the data
should not be trusted until it's been thoroughly verified for consistency and that all expectations are
satisfied, as a malicious peer may send you subtly corrupted data in order to exploit your code.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#setStateMachine-value-">setStateMachine</a></span>(<a href="../../../../net/corda/core/flows/FlowStateMachine.html" title="type parameter in FlowStateMachine">FlowStateMachine</a>&lt;?&gt;&nbsp;value)</code>
<div class="block">Internal only. Reference to the <a href="#">Fiber</a> instance that is the top level controller for the entire flow. When
inside a flow this is equivalent to <a href="#">Strand.currentStrand</a>. This is public only because it must be accessed
across module boundaries.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#subFlow-subLogic-shareParentSessions-">subFlow</a></span>(<a href="../../../../net/corda/core/flows/FlowLogic.html" title="type parameter in FlowLogic">FlowLogic</a>&lt;? extends R&gt;&nbsp;subLogic,
       boolean&nbsp;shareParentSessions)</code>
<div class="block">Invokes the given subflow. This function returns once the subflow completes successfully with the result
returned by that subflows <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a> method. If the subflow has a progress tracker, it is attached to the
current step in this flow's progress tracker.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#subFlow-subLogic-">subFlow</a></span>(<a href="../../../../net/corda/core/flows/FlowLogic.html" title="type parameter in FlowLogic">FlowLogic</a>&lt;? extends R&gt;&nbsp;subLogic)</code>
<div class="block">Invokes the given subflow. This function returns once the subflow completes successfully with the result
returned by that subflows <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a> method. If the subflow has a progress tracker, it is attached to the
current step in this flow's progress tracker.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>kotlin.Pair&lt;java.lang.String,rx.Observable&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#track--">track</a></span>()</code>
<div class="block">Returns a pair of the current progress step, as a string, and an observable of stringified changes to the
progressTracker.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../net/corda/core/transactions/SignedTransaction.html" title="type parameter in SignedTransaction">SignedTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/corda/core/flows/FlowLogic.html#waitForLedgerCommit-hash-">waitForLedgerCommit</a></span>(<a href="../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;hash)</code>
<div class="block">Suspends the flow until the transaction with the specified ID is received, successfully verified and
sent to the vault for processing. Note that this call suspends until the transaction is considered
valid by the local node, but that doesn't imply the vault will consider it relevant.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FlowLogic--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FlowLogic</h4>
<pre>public&nbsp;FlowLogic()</pre>
<div class="block"><p><p>A sub-class of <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implements a flow using direct, straight line blocking code. Thus you
can write complex flow logic in an ordinary fashion, without having to think about callbacks, restarting after
a node crash, how many instances of your flow there are running and so on.</p></p><p><p><p>Invoking the network will cause the call stack to be suspended onto the heap and then serialized to a database using
the Quasar fibers framework. Because of this, if you need access to data that might change over time, you should
request it just-in-time via the serviceHub property which is provided. Don't try and keep data you got from a
service across calls to send/receive/sendAndReceive because the world might change in arbitrary ways out from
underneath you, for instance, if the node is restarted or reconfigured!</p><p>Additionally, be aware of what data you pin either via the stack or in your <a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a> implementation. Very large
objects or datasets will hurt performance by increasing the amount of data stored in each checkpoint.</p><p>If you'd like to use another FlowLogic class as a component of your own, construct it on the fly and then pass
it to the subFlow method. It will return the result of that flow when it completes.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>, 
<a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLogger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre>public&nbsp;org.slf4j.Logger&nbsp;getLogger()</pre>
<div class="block"><p><p>This is where you should log things to.</p></p></div>
</li>
</ul>
<a name="getRunId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunId</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/flows/StateMachineRunId.html" title="type parameter in StateMachineRunId">StateMachineRunId</a>&nbsp;getRunId()</pre>
<div class="block"><p><p>Returns a wrapped <a href="#">UUID</a> object that identifies this state machine run (i.e. subflows have the same identifier as their parents).</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">UUID</a></dd>
</dl>
</li>
</ul>
<a name="getServiceHub--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceHub</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/node/ServiceHub.html" title="type parameter in ServiceHub">ServiceHub</a>&nbsp;getServiceHub()</pre>
<div class="block"><p><p>Provides access to big, heavy classes that may be reconstructed from time to time, e.g. across restarts. It is
only available once the flow has started, which means it cannnot be accessed in the constructor. Either
access this lazily or from inside <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a>.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a></dd>
</dl>
</li>
</ul>
<a name="getCounterpartyMarker-party-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCounterpartyMarker</h4>
<pre>public&nbsp;java.lang.Class&lt;?&gt;&nbsp;getCounterpartyMarker(<a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;party)</pre>
<div class="block"><p><p>Return the marker <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a> which party has used to register the counterparty flow that is to execute on the
other side. The default implementation returns the class object of this FlowLogic, but any <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a> instance
will do as long as the other side registers with it.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a>, 
<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a></dd>
</dl>
</li>
</ul>
<a name="sendAndReceive-receiveType-otherParty-payload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendAndReceive</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;<a href="../../../../net/corda/core/utilities/UntrustworthyData.html" title="type parameter in UntrustworthyData">UntrustworthyData</a>&lt;R&gt;&nbsp;sendAndReceive(java.lang.Class&lt;R&gt;&nbsp;receiveType,
                                               <a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty,
                                               java.lang.Object&nbsp;payload)</pre>
<div class="block"><p><p>Serializes and queues the given payload object for sending to the otherParty. Suspends until a response
is received, which must be of the given receiveType. Remember that when receiving data from other parties the data
should not be trusted until it's been thoroughly verified for consistency and that all expectations are
satisfied, as a malicious peer may send you subtly corrupted data in order to exploit your code.</p></p><p><p><p>Note that this function is not just a simple send+receive pair: it is more efficient and more correct to
use this when you expect to do a message swap than do use send and then receive in turn.</p></p></p></div>
</li>
</ul>
<a name="receive-receiveType-otherParty-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;<a href="../../../../net/corda/core/utilities/UntrustworthyData.html" title="type parameter in UntrustworthyData">UntrustworthyData</a>&lt;R&gt;&nbsp;receive(java.lang.Class&lt;R&gt;&nbsp;receiveType,
                                        <a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty)</pre>
<div class="block"><p><p>Suspends until the specified otherParty sends us a message of type receiveType.</p></p><p><p><p>Remember that when receiving data from other parties the data should not be trusted until it's been thoroughly
verified for consistency and that all expectations are satisfied, as a malicious peer may send you subtly
corrupted data in order to exploit your code.</p></p></p></div>
</li>
</ul>
<a name="send-otherParty-payload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(<a href="../../../../net/corda/core/crypto/Party.html" title="type parameter in Party">Party</a>&nbsp;otherParty,
                 java.lang.Object&nbsp;payload)</pre>
<div class="block"><p><p>Queues the given payload for sending to the otherParty and continues without suspending.</p></p><p><p><p>Note that the other party may receive the message at some arbitrary later point or not at all: if otherParty
is offline then message delivery will be retried until it comes back or until the message is older than the
network's event horizon time.</p></p></p></div>
</li>
</ul>
<a name="subFlow-subLogic-shareParentSessions-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subFlow</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;subFlow(<a href="../../../../net/corda/core/flows/FlowLogic.html" title="type parameter in FlowLogic">FlowLogic</a>&lt;? extends R&gt;&nbsp;subLogic,
                     boolean&nbsp;shareParentSessions)</pre>
<div class="block"><p><p>Invokes the given subflow. This function returns once the subflow completes successfully with the result
returned by that subflows <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a> method. If the subflow has a progress tracker, it is attached to the
current step in this flow's progress tracker.</p></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shareParentSessions</code> - In certain situations the need arises to use the same sessions the parent flow has
already established. However this also prevents the subflow from creating new sessions with those parties.
For this reason the default value is false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - This is either thrown by subLogic itself or propagated from any of the remote
<a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>s it communicated with. A subflow retry can be done by catching this exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a></dd>
</dl>
</li>
</ul>
<a name="subFlow-subLogic-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subFlow</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;subFlow(<a href="../../../../net/corda/core/flows/FlowLogic.html" title="type parameter in FlowLogic">FlowLogic</a>&lt;? extends R&gt;&nbsp;subLogic)</pre>
<div class="block"><p><p>Invokes the given subflow. This function returns once the subflow completes successfully with the result
returned by that subflows <a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a> method. If the subflow has a progress tracker, it is attached to the
current step in this flow's progress tracker.</p></p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd> - This is either thrown by subLogic itself or propagated from any of the remote
<a href="../../../../net/corda/core/flows/FlowLogic.html" title="class in net.corda.core.flows"><code>class FlowLogic</code></a>s it communicated with. A subflow retry can be done by catching this exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/flows/FlowLogic.html#call--"><code>FlowLogic.call</code></a></dd>
</dl>
</li>
</ul>
<a name="getProgressTracker--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProgressTracker</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/utilities/ProgressTracker.html" title="type parameter in ProgressTracker">ProgressTracker</a>&nbsp;getProgressTracker()</pre>
<div class="block"><p><p>Override this to provide a <a href="../../../../net/corda/core/utilities/ProgressTracker.html" title="class in net.corda.core.utilities"><code>class ProgressTracker</code></a>. If one is provided and stepped, the framework will do something
helpful with the progress reports. If this flow is invoked as a subflow of another, then the
tracker will be made a child of the current step in the parent. If it's null, this flow doesn't track
progress.</p></p><p><p><p>Note that this has to return a tracker before the flow is invoked. You can't change your mind half way
through.</p></p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/corda/core/utilities/ProgressTracker.html" title="class in net.corda.core.utilities"><code>class ProgressTracker</code></a></dd>
</dl>
</li>
</ul>
<a name="call--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>call</h4>
<pre>public&nbsp;T&nbsp;call()</pre>
<div class="block"><p><p>This is where you fill out your business logic. The returned object will usually be ignored, but can be
helpful if this flow is meant to be used as a subflow.</p></p></div>
</li>
</ul>
<a name="track--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>track</h4>
<pre>public&nbsp;kotlin.Pair&lt;java.lang.String,rx.Observable&gt;&nbsp;track()</pre>
<div class="block"><p><p>Returns a pair of the current progress step, as a string, and an observable of stringified changes to the
progressTracker.</p></p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns null if this flow has no progress tracker.</dd>
</dl>
</li>
</ul>
<a name="waitForLedgerCommit-hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForLedgerCommit</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/transactions/SignedTransaction.html" title="type parameter in SignedTransaction">SignedTransaction</a>&nbsp;waitForLedgerCommit(<a href="../../../../net/corda/core/crypto/SecureHash.html" title="type parameter in SecureHash">SecureHash</a>&nbsp;hash)</pre>
<div class="block"><p><p>Suspends the flow until the transaction with the specified ID is received, successfully verified and
sent to the vault for processing. Note that this call suspends until the transaction is considered
valid by the local node, but that doesn't imply the vault will consider it relevant.</p></p></div>
</li>
</ul>
<a name="getStateMachine--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateMachine</h4>
<pre>public&nbsp;<a href="../../../../net/corda/core/flows/FlowStateMachine.html" title="type parameter in FlowStateMachine">FlowStateMachine</a>&lt;?&gt;&nbsp;getStateMachine()</pre>
<div class="block"><p><p>Internal only. Reference to the <a href="#">Fiber</a> instance that is the top level controller for the entire flow. When
inside a flow this is equivalent to <a href="#">Strand.currentStrand</a>. This is public only because it must be accessed
across module boundaries.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">Fiber</a>, 
<a href="#">Strand.currentStrand</a></dd>
</dl>
</li>
</ul>
<a name="setStateMachine-value-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setStateMachine</h4>
<pre>public&nbsp;void&nbsp;setStateMachine(<a href="../../../../net/corda/core/flows/FlowStateMachine.html" title="type parameter in FlowStateMachine">FlowStateMachine</a>&lt;?&gt;&nbsp;value)</pre>
<div class="block"><p><p>Internal only. Reference to the <a href="#">Fiber</a> instance that is the top level controller for the entire flow. When
inside a flow this is equivalent to <a href="#">Strand.currentStrand</a>. This is public only because it must be accessed
across module boundaries.</p></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#">Fiber</a>, 
<a href="#">Strand.currentStrand</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/corda/core/flows/FlowException.html" title="class in net.corda.core.flows"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/corda/core/flows/FlowLogicRef.html" title="class in net.corda.core.flows"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/corda/core/flows/FlowLogic.html" target="_top">Frames</a></li>
<li><a href="FlowLogic.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
